<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moving R</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <!-- Preloader -->
    <!-- <div class="preloader">
        <div class="loader"></div>
    </div> -->
    <!-- Hero section -->
    <!-- class="content-container" -->


    <section class="nav-hero-sec">
        <nav>
            <div class="menu gap-5 align-items-center d-flex">
                <div class="hamburger">
                    <div></div>
                    <div></div>
                </div>
                <span>Menu</span>
            </div>

            <div class="logo">
                <svg class="c-header_logo_svg || c-animated-logo_svg" xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 795.99 214.01" fill="currentColor">
                    <path class="letter -letter-0" d="M0,105.769H17.5071v89.131h48.1318v16.981H0V105.769Z"></path>
                    <path class="letter -letter-1" d="M94.5442,105.769h17.5068v106.102h-17.5068V105.769Z"></path>
                    <path class="letter -letter-2"
                        d="M153.447,135.483c0-17.619,14.655-31.833,32.82-31.833s32.819,14.214,32.819,31.833v2.119h-17.507v-2.119c0-8.28-6.786-14.852-15.312-14.852s-15.313,6.582-15.313,14.852v46.684c0,8.28,6.787,14.852,15.313,14.852s15.312-6.582,15.312-14.852v-14.852h-15.312v-16.98h32.819v31.832c0,17.619-14.655,31.833-32.819,31.833s-32.82-14.214-32.82-31.833v-46.684h0Z">
                    </path>
                    <path class="letter -letter-3"
                        d="M260.482,105.769h17.507v44.566h30.635v-44.566h17.507v106.102h-17.507v-44.565h-30.635v44.565h-17.507V105.769Z">
                    </path>
                    <path class="letter -letter-4"
                        d="M360.488,105.769h65.639v16.981h-24.071v89.131h-17.507V122.75h-24.071v-16.981h.01Z"></path>
                    <path class="letter -letter-5"
                        d="M453.313,182.167v-2.119h17.507v2.119c0,8.064,6.998,14.852,15.312,14.852s15.312-6.788,15.312-14.43c0-9.545-5.249-12.311-17.942-16.127-19.691-5.945-29.097-15.49-29.097-32.039s14.22-30.773,31.727-30.773,31.727,13.793,31.727,30.773v3.179h-17.507v-3.179c0-7.642-6.341-13.792-14.22-13.792s-14.22,6.366-14.22,13.792c0,8.917,5.249,12.311,16.627,15.706,18.165,5.729,30.412,13.576,30.412,32.47,0,17.187-14.654,31.411-32.819,31.411s-32.819-14.214-32.819-31.833v-.01Z">
                    </path>
                    <path class="letter -letter-6"
                        d="M558.163,105.769h17.507v44.566h30.635v-44.566h17.507v106.102h-17.507v-44.565h-30.635v44.565h-17.507V105.769Z">
                    </path>
                    <path class="letter -letter-7" d="M668.323,105.769h17.507v106.102h-17.507V105.769Z"></path>
                    <path class="letter -letter-8"
                        d="M763.171,105.769h-32.82v106.102h17.507v-33.951h15.313c18.164,0,32.819-14.224,32.819-31.833v-8.485c0-17.619-14.655-31.833-32.819-31.833Zm15.312,40.318c0,8.27-6.776,14.852-15.312,14.852v.01h-15.313v-38.199h15.313c8.525,0,15.312,6.572,15.312,14.852v8.485Z">
                    </path>
                    <path class="symbol -left"
                        d="M105.69,1.442c-.648-1.9227-3.449-1.9227-4.086,0l-3.7627,11.1439c-1.9317,5.7289-6.5638,10.2218-12.4703,12.0955l-11.4894,3.6492c-1.9823,.6278-1.9823,3.3451,0,3.9631l11.4894,3.6493c5.9065,1.8736,10.5386,6.3665,12.4703,12.0954l3.7627,11.1439c.647,1.9227,3.449,1.9227,4.086,0l3.762-11.1439c1.932-5.7289,6.564-10.2218,12.47-12.0954l11.49-3.6493c1.982-.6278,1.982-3.3353,0-3.9631l-11.49-3.6492c-5.906-1.8737-10.538-6.3666-12.47-12.0955l-3.762-11.1439">
                    </path>
                    <path class="symbol -right"
                        d="M679.347,1.442c-.647-1.9227-3.449-1.9227-4.086,0l-3.762,11.1439c-1.932,5.7289-6.564,10.2218-12.471,12.0955l-11.489,3.6492c-1.982,.6278-1.982,3.3451,0,3.9631l11.489,3.6493c5.907,1.8736,10.539,6.3665,12.471,12.0954l3.762,11.1439c.647,1.9227,3.449,1.9227,4.086,0l3.762-11.1439c1.932-5.7289,6.564-10.2218,12.471-12.0954l11.489-3.6493c1.9821-.6278,1.9821-3.3353,0-3.9631l-11.489-3.6492c-5.907-1.8737-10.539-6.3666-12.471-12.0955l-3.762-11.1439Z">
                    </path>
                </svg>
            </div>
            <div class="nav-button">
                <button type="button" class="btn text-white btn-outline-light">Reverse the L1</button>
            </div>
        </nav>
        <div class="hero-section">
            <div class="hero-section-heading">
                <h2>Moving road trips to the electric age.</h2>
            </div>
            <div class="hero-video">
                <video autoplay muted loop
                    src=" https://player.vimeo.com/progressive_redirect/playback/805749786/rendition/1080p/file.mp4?loc=external&signature=e2c2d62e2e5fe9da4f335d36c84f37f249b9ced201fb6349d71535e1459bf954">

                </video>
                <div class="video-btn">

                </div>

            </div>
        </div>
    </section>
    <section class="vision-section">
        <div class="main-heading">
            We have a bold vision for the future of travel where you can better connect with the outdoors and each
            other. Lightship’s electric travel trailers allow you to visit new corners of the world while doing your
            part to preserve it.
        </div>

        <div>
            <div class="symbol">
                <img src="./asset/img/symbol.svg" alt="" height="30%" width="30%" class="scroll-image">
            </div>

    </section>



<section class="image-unmask">

<svg id="svg">
  <defs>
    <mask id="mask">
      <rect width="100%" height="100%" fill="white"></rect>
      <circle id="circle" cx="50%" cy="50%" r="60" fill="black"></circle>
    </mask>
  </defs>
  <rect id="whiteLayer" width="100%" height="100%" fill="black"></rect>
  <rect width="100%" height="100%" fill="white" mask="url(#mask)"></rect>
</svg>

</section>   

<section class="vision-section">
    <div class="main-heading">
        We have a bold vision for the future of travel where you can better connect with the outdoors and each
        other. Lightship’s electric travel trailers allow you to visit new corners of the world while doing your
        part to preserve it.
    </div>

    <div>
        <div class="symbol">
            <img src="./asset/img/symbol.svg" alt="" height="30%" width="30%" class="scroll-image">
        </div>

</section>
  
<!-- <div id="content"></div> -->
<video autoplay muted loop id="img"
src=" https://player.vimeo.com/progressive_redirect/playback/805749786/rendition/1080p/file.mp4?loc=external&signature=e2c2d62e2e5fe9da4f335d36c84f37f249b9ced201fb6349d71535e1459bf954">

</video>
<!-- <img id="img" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/106114/smile.jpg"> -->
    


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/lenis@1.1.14/dist/lenis.min.js"></script>

    <!-- GSAP & ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/ScrollTrigger.min.js"></script>
    <script>
     console.clear();

const svg = document.querySelector("#svg");
const img = document.querySelector("#img");
const circle = document.querySelector("#circle");
const pad = 4;

let radius = +circle.getAttribute("r");
let imgWidth, imgHeight;

gsap.set(img, {
  scale: 2,
  xPercent: -50,
  yPercent: -50
});

var tl = gsap.timeline({
    scrollTrigger: {  
      trigger: '.image-unmask',
      pin: true,
      start: "top top",
      end: '+=2500',
      //end: "bottom bottom",
      scrub: 0.2,
    },
    defaults: {
      duration: 1
    }
  })
  .to(circle, {
    attr: {
      r: () => radius
    }
  }, 0)
  .to(img, {
    scale: 1,
    opacity: 1,
  }, 0)
  .to("#whiteLayer", {
    alpha: 0,
    ease: "power1.in",
    duration: 1 - 0.25
  }, 0.25)
;
  


window.addEventListener("load", init);
window.addEventListener("resize", resize);

function init() {
      
  imgWidth = img.naturalWidth;
  imgHeight = img.naturalHeight;
    
  resize();  
}

function resize() {
    
  tl.progress(0);
  
  const r = svg.getBoundingClientRect();
  const rectWidth = r.width + pad;
  const rectHeight = r.height + pad;
  
  const rx = rectWidth / imgWidth;
  const ry = rectHeight / imgHeight;
  
  const ratio = Math.max(rx, ry);
  
  const width = imgWidth * ratio;
  const height = imgHeight * ratio;
    
  const dx = rectWidth / 2;
  const dy = rectHeight / 2;
  radius = Math.sqrt(dx * dx + dy * dy);
            
  gsap.set(img, { width, height });
    
  tl.invalidate();
  
  ScrollTrigger.refresh();
  
}
    </script>
    <script src="./app.js"></script>

</body>

</html>